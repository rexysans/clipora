/* --- 1. OVERLAYS (Buffering/Error) --- */
.overlay {
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0.6);
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10;
  font-size: 1.2rem;
  pointer-events: none; /* Crucial: Allows clicking through the overlay if needed */
}

.overlay.error {
  background: rgba(120, 0, 0, 0.7);
  pointer-events: auto; /* Error messages might need clicks */
}

/* --- 2. RESPONSIVE PLAYER SETUP --- */
.video-js {
  width: 100% !important;
  height: 100% !important;
}

/* Control Bar Layout */
.video-js .vjs-control-bar {
  display: flex !important;
  flex-wrap: nowrap;
  align-items: center;
  background: rgba(0, 0, 0, 0.7); /* Optional: Standardizes bar background */
}

/* Prevent squishing of icons */
.video-js .vjs-control {
  flex-shrink: 0;
  width: 3em; /* Standardizes touch target size */
}

/* Progress bar is the only thing that shrinks/grows */
.video-js .vjs-progress-control {
  flex: 1 1 auto;
  min-width: 4em;
}

/* Ensure Gear Button is always visible */
.video-js .vjs-icon-cog,
.video-js .QualityMenuButton {
  flex-shrink: 0 !important;
  display: inline-block !important;
}

/* Mobile Adjustments */
@media (max-width: 600px) {
  .video-js .vjs-control-bar {
    font-size: 90%;
  }
  .video-js .vjs-time-control {
    padding: 0 5px;
    font-size: 0.9em;
  }
}
@media (max-width: 400px) {
  .video-js .vjs-control-bar {
    font-size: 80%;
  }
}

/* --- 3. GEAR ICON STYLING --- */
.vjs-icon-cog:before {
  font-size: 1.8em !important;
  line-height: 1.6;
}
/* --- 4. QUALITY MENU CONTAINER (Fixed with Padding Strategy) --- */
.vjs-menu-button-popup .vjs-menu {
  width: 120px;

  /* POSITIONING */
  left: -70px; /* Moves menu left */

  /* ANCHORING: */
  /* We set bottom to 0 so the container sits right on top of the button */
  bottom: 0px;

  /* THE GAP FIX: */
  /* We add 40px of transparent padding at the bottom. 
     This pushes the visible content UP, but keeps the "hit area" 
     connected to the button. */
  padding-bottom: 40px;

  height: auto;
  z-index: 1000;
  overflow: visible;
}
/* Cleanup old hacks if you had them */
.vjs-menu-button-popup .vjs-menu:after,
.vjs-menu-button-popup .vjs-menu:before {
  display: none;
}
/* Style the Visible Box inside the container */
.vjs-menu-button-popup .vjs-menu .vjs-menu-content {
  background-color: rgba(43, 51, 63, 0.95);
  border-radius: 4px;

  /* Reset spacing so it fits snugly inside the top of the container */
  margin-bottom: 0;
  padding-bottom: 5px;

  list-style: none;
  padding: 0;
  margin: 0;
}

/* Ensure hover works */
.vjs-menu-button-popup.vjs-icon-cog:hover .vjs-menu {
  display: block;
}

/* --- 5. MENU ITEMS STYLING --- */
.vjs-menu-item {
  display: flex !important;
  justify-content: space-between; /* Pushes text left, checkmark right */
  align-items: center;
  padding: 8px 12px;
  font-size: 14px;
  color: #e0e0e0;
  cursor: pointer;
  text-transform: none !important;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1); /* Subtle separator */
}

.vjs-menu-item:last-child {
  border-bottom: none;
}

/* Hover Effect on Items */
.vjs-menu-item:hover,
.vjs-menu-item:focus {
  background-color: rgba(255, 255, 255, 0.15);
  color: white;
  outline: none;
}

/* Selected State */
.vjs-menu-item.vjs-selected {
  background-color: rgba(255, 255, 255, 0.2);
  color: #ff4444; /* Red Text */
  font-weight: bold;
}

/* The Red Checkmark */
.vjs-menu-item.vjs-selected::after {
  content: "";
  display: block;
  width: 14px;
  height: 14px;
  /* Dark Grey/Black Checkmark SVG */
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23212121'%3E%3Cpath d='M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z'/%3E%3C/svg%3E");
  background-size: contain;
  background-repeat: no-repeat;
  margin-left: 10px;
}
